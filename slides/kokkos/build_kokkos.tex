%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 
\begin{frame}
  \frametitle{Build kokkos}

  \begin{itemize}
  \item \textbf{Get sources, development branch}
    \begin{itemize}
    \item \texttt{git clone https://github.com/kokkos/kokkos}
    \item \texttt{git checkout develop}
    \item \textcolor{blue}{Practicals on \texttt{ouessant}:}\\
      \texttt{mkdir \$HOME/kokkos-tutorial}\\
      perform \texttt{git clone} operation from \texttt{\$HOME/kokkos-tutorial}\\
      some tutorial examples are already configured for using that precise location.
    \end{itemize}
  \item \textbf{Build configuration}
    \begin{itemize}
    \item \texttt{cd \$KOKKOS\_SOURCES; mkdir build; cd build}
    \item About build system, several ways to use Kokkos
      \begin{enumerate}
      \item Only when Kokkos is build inside \myhref{https://github.com/trilinos/Trilinos}{Trilinos}, \myhref{https://cmake.org/}{CMake} is used
      \item Standalone utilization: use \texttt{generate\_makefile.bash}, then \texttt{make kokkoslib; make install}
      \item Embedded Kokkos source files in your application.
      \end{enumerate}
      % \item We will use 2. and 3.
    \end{itemize}
  \end{itemize}
 
\end{frame}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 
\begin{frame}
  \frametitle{Build kokkos (2)}

  \begin{itemize}
  \item Example build configurations
    \begin{itemize}
    \item Serial (mostly for testing)\\
      \texttt{../generate\_makefile.bash --with-serial --prefix=\$HOME/local/kokkos\_serial}
    \item \textbf{OpenMP}\\
      \texttt{../generate\_makefile.bash --with-openmp --prefix=\$HOME/local/kokkos\_openmp\_dev}
    \item \textbf{CUDA (+ OpenMP)}\\
      \texttt{../generate\_makefile.bash --with-cuda --arch=Pascal60 --prefix=\$HOME/local/kokkos\_cuda\_lambda\_openmp --with-cuda-options=enable\_lambda --with-openmp --with-hwloc=/usr}
    \end{itemize}
  \end{itemize}
  
\end{frame}